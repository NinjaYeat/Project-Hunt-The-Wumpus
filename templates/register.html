{% extends "base.html" %}

{% block title %}Création de compte - Wumpus{% endblock %}
{% block body_class %}screen-login{% endblock %}

{% block css %}
<link rel="icon" type="image/jpeg" href="{{ url_for('static', filename='img/logo/icon Hunt The Wumpus.jpg') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="login-wrapper">
  <div class="login-container">
    <h1>Création de compte</h1>

    {% for m in get_flashed_messages() %}
      <p class="flash">{{ m }}</p>
    {% endfor %}

    <form id="gameRegister" method="POST" action="{{ url_for('register') }}">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <label for="pseudo">Pseudo :</label>
      <div class="field-wrapper">
        <input type="text" id="pseudo" name="pseudo"
               placeholder="Veuillez saisir votre pseudo !" required>

        <div class="rules-popup" id="pseudoRules">
          <p class="rules-title">Règles du pseudo :</p>
          <ul>
            <li id="rule-pseudo-length">Entre 5 et 10 caractères</li>
            <li id="rule-pseudo-chars">Lettres et chiffres uniquement</li>
            <li id="rule-pseudo-upper">Maximum 3 majuscules</li>
          </ul>
        </div>
      </div>
      <span id="pseudoSpan"></span>

      <label for="password">Mot de passe :</label>
      <div class="field-wrapper">
        <input type="password" id="password" name="password"
               placeholder="Veuillez saisir votre mot de passe" required>

        <div class="rules-popup" id="passwordRules">
          <p class="rules-title">Règles du mot de passe :</p>
          <ul>
            <li id="rule-pwd-upper">Commence par 1 majuscule</li>
            <li id="rule-pwd-lower">7 à 12 minuscules ensuite</li>
            <li id="rule-pwd-digits">Finit par 2 chiffres</li>
          </ul>
        </div>
      </div>
      <span id="passwordSpan"></span>

      <button type="submit">Créer le compte</button>
    </form>

    <a href="{{ url_for('login') }}" class="back-link">Déjà un compte ? Se connecter</a>
    <a href="{{ url_for('home') }}" class="back-link">← Retour</a>
  </div>
</div>
{% endblock %}

{% block js %}
<script src="{{ url_for('static', filename='js/music.js') }}"></script>
<script src="{{ url_for('static', filename='js/login.js') }}"></script>
{% endblock %}